(this["webpackJsonpandro-video-homework"]=this["webpackJsonpandro-video-homework"]||[]).push([[0],{12:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),o=n.n(r),c=n(8),i=n.n(c),u=o.a.createContext({todos:[{uniqueId:12345678,title:"1atesting",content:"M"},{uniqueId:22345678,title:"btesting2",content:"I"},{uniqueId:32345678,title:"dtesting3",content:"K"},{uniqueId:42345678,title:"ftesting4",content:"E"},{uniqueId:52345678,title:"etesting5",content:"K"},{uniqueId:62345678,title:"ctesting6",content:"I"},{uniqueId:72345678,title:"gtesting10",content:"M"}],columns:["ID","Title","Content","Actions"],mode:"none",filtered:[],isEditing:!1,currentTodo:{content:"",title:"",uniqueId:0},processing:!1,previousUniqueIds:[],index:void 0}),l=n(3),s=n(1);function d(e,t){switch(t.type){case"PREVIOUS_UNIQUE_ID":return Object(s.a)(Object(s.a)({},e),{},{previousUniqueIds:Object(l.a)(t.payload)});case"PROCESSING_FLAG":return Object(s.a)(Object(s.a)({},e),{},{processing:t.payload});case"SORT":return Object(s.a)(Object(s.a)({},e),{},{todos:t.payload,filtered:t.payload});case"SEARCH":return Object(s.a)(Object(s.a)({},e),{},{filtered:t.payload.filtered});case"UPDATE_TODO":var n=Object(l.a)(e.filtered),a=Object(l.a)(e.todos);n.splice(t.payload.index,1,t.payload.editTodo),a.splice(t.payload.index,1,t.payload.editTodo);var r=a.map((function(e){return{uniqueId:parseFloat(e.uniqueId),title:e.title,content:e.content}}));return Object(s.a)(Object(s.a)({},e),{},{todos:Object(l.a)(r),filtered:Object(l.a)(n)});case"CHANGE_MODE":return"none"===t.payload||("search"===t.payload||"create"===t.payload)?Object(s.a)(Object(s.a)({},e),{},{mode:t.payload}):"edit"===t.payload.mode?Object(s.a)(Object(s.a)({},e),{},{mode:t.payload.mode,currentTodo:t.payload.currentTodo,index:t.payload.index}):e;case"ADD_TODO":return Object(s.a)(Object(s.a)({},e),{},{todos:[].concat(Object(l.a)(e.todos),[t.payload]),filtered:[].concat(Object(l.a)(e.filtered),[t.payload])});case"COMPLETE":return Object(s.a)(Object(s.a)({},e),{},{todos:e.todos.filter((function(e){return e.uniqueId.toString()!==t.payload.toString()})),filtered:e.filtered.filter((function(e){return e.uniqueId.toString()!==t.payload.toString()}))});default:return e}}n(17);var m=n(6),f=n.n(m),p=n(9);function b(){var e=Object(r.useContext)(u),t=e.state,n=e.dispatch,a=function(){return"create"===t.mode},c=function(){return"search"===t.mode};return o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{title:"buttondd New",className:"button add "+(a()?"selected":""),onClick:function(){return n({type:"CHANGE_MODE",payload:a()?"none":"create"})}}),o.a.createElement("button",{title:"Search",className:"button search "+(c()?"selected":""),onClick:function(){return n({type:"CHANGE_MODE",payload:c()?"none":"search"})}}))}var O=function(e){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-8 header-container"},o.a.createElement("h5",null,"Todo List"),o.a.createElement(b,null)),o.a.createElement("div",{className:"col-md-4"},e.children))},E=n(10),h=n(11),g=function(){function e(){Object(E.a)(this,e)}return Object(h.a)(e,null,[{key:"enqueue",value:function(e){var t=this;return new Promise((function(n,a){t.queue.push({promise:e,resolve:n,reject:a}),t.dequeue()}))}},{key:"dequeue",value:function(){var e=this;if(this.workingOnPromise)return!1;var t=this.queue.shift();if(!t)return!1;try{this.workingOnPromise=!0,t.promise().then((function(n){e.workingOnPromise=!1,t.resolve(n),e.dequeue()})).catch((function(n){e.workingOnPromise=!1,t.reject(n),e.dequeue()}))}catch(n){this.workingOnPromise=!1,t.reject(n),this.dequeue()}return!0}}]),e}();function y(e,t,n){var a=e[t];e[t]=e[n],e[n]=a}function v(e,t,n,a){for(var r=e[Math.floor((n+t)/2)][a],o=t,c=n;o<=c;){if("uniqueId"===a){for(;e[o][a]<r;)o++;for(;e[c][a]>r;)c--}else if("title"===a){for(;Math.sign(e[o][a].localeCompare(r,"en",{numeric:!0}))<0;)o++;for(;Math.sign(e[c][a].localeCompare(r,"en",{numeric:!0}))>0;)c--}o<=c&&(y(e,o,c),o++,c--)}return o}function j(e,t,n,a){for(var r=e[Math.floor((n+t)/2)][a],o=t,c=n;o<=c;){if("uniqueId"===a){for(;e[o][a]>r;)o++;for(;e[c][a]<r;)c--}else if("title"===a){for(;Math.sign(e[o][a].localeCompare(r,"en",{numeric:!0}))>0;)o++;for(;Math.sign(e[c][a].localeCompare(r,"en",{numeric:!0}))<0;)c--}o<=c&&(y(e,o,c),o++,c--)}return o}function I(e,t,n){var a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"uniqueId",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return e.length>1&&(o?a=v(e,t,n,r):o||(a=j(e,t,n,r)),t<a-1&&I(e,t,a-1,r,o),a<n&&I(e,a,n,r,o)),e}function N(){var e=Object(r.useContext)(u),t=e.state,n=e.dispatch,c=Object(r.useState)(!1),i=Object(a.a)(c,2),s=i[0],d=i[1],m=Object(r.useState)([]),b=Object(a.a)(m,2),E=b[0],h=b[1],y=Object(r.useState)(!0),v=Object(a.a)(y,2),j=v[0],N=v[1];Object(r.useEffect)((function(){n({type:"PROCESSING_FLAG",payload:s}),n({type:"PREVIOUS_UNIQUE_ID",payload:E})}),[s,E,n]);var C,q=function(){var e=Object(p.a)(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,new Promise((function(e){return setTimeout((function(){e(t)}),n)}));case 3:a=e.sent,d(!1),a();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(e){if("ID"===e){N(!j);var a=t.filtered.map((function(e){return{uniqueId:parseFloat(e.uniqueId),title:e.title,content:e.content}})),r=I(a,0,a.length-1,"uniqueId",j);n({type:"SORT",payload:r})}else if("Title"===e){N(!j);var o=Object(l.a)(t.filtered),c=I(o,0,o.length-1,"title",j);n({type:"SORT",payload:c})}},T=o.a.createElement(O,null,!t.processing&&o.a.createElement("span",{className:"float-right"},(C=t.filtered.length)>1?"There are ".concat(C," todos."):"There is ".concat(C," todo.")),t.processing&&o.a.createElement("span",{className:"float-right"},"Deleting..."));return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("br",null),T)),t.filtered.length>0&&o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"thead-dark"},o.a.createElement("tr",null,t.columns.map((function(e,t){return o.a.createElement("th",{key:t,style:"Actions"===e?{textAlign:"right"}:"Actions"!==e&&"Content"!==e?{cursor:"pointer"}:null,scope:"col",onClick:"ID"===e||"Title"===e?function(){return S(e)}:null},e)})))),o.a.createElement("tbody",null,t.filtered.map((function(e,a){return o.a.createElement("tr",{key:e.uniqueId},o.a.createElement("th",{scope:"row"},e.uniqueId),o.a.createElement("td",null,e.title),o.a.createElement("td",null,e.content),o.a.createElement("td",null,o.a.createElement("button",{className:"float-right btn btn-danger btn-sm",onClick:function(){return function(e){var a=E.concat(e);-1===t.previousUniqueIds.findIndex((function(t){return t===e}))&&(h(Object(l.a)(a)),g.enqueue((function(){return q((function(){n({type:"COMPLETE",payload:e})}),3e3)})))}(e.uniqueId)},disabled:"edit"===t.mode},"Delete"),o.a.createElement("button",{style:{marginRight:"1rem"},className:"float-right btn btn-primary btn-sm",disabled:t.processing,onClick:function(){return function(e,t){n({type:"CHANGE_MODE",payload:{mode:"edit",currentTodo:e,index:t}})}(e,a)}},"Edit")))}))))))))}function C(e){var t=e.values,n=e.onKeyUp,a=e.onChange,c=e.btnText,i=e.processing,l=e.onSubmit,s=Object(r.useContext)(u).dispatch;return o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{className:"form-control",style:{width:"100%"},value:t.title,autoFocus:!0,placeholder:"Enter todo title(required)",onKeyUp:function(e){return n(e,"add")},onChange:function(e){return a(e,"title")}}),o.a.createElement("textarea",{className:"form-control",style:{width:"100%"},value:t.content,autoFocus:!1,onKeyUp:function(e){return n(e,"add")},placeholder:"Enter description",onChange:function(e){return a(e,"content")}}),o.a.createElement("div",{className:"input-group-append",style:{width:"100%"}},o.a.createElement("button",{disabled:i,className:"btn btn-primary",style:{width:"100%"},onClick:l},c),"Edit"===c&&o.a.createElement("button",{className:"btn btn-danger",style:{width:"100%"},onClick:function(){return s({type:"CHANGE_MODE",payload:"none"})}},"Cancel")))}function q(e,t){var n="";for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(e[n]!==t[n])return!1;return!0}function S(e,t){for(var n=0;n<e.length;n++)if(q(e[n],t))return!0;return!1}function T(e,t){for(var n=t.trim().toLowerCase(),a=e.map((function(e){return{uniqueId:e.uniqueId.toString(),title:e.title,content:e.content}})),r=[],o=0;o<a.length;o++)for(var c in a[o])-1!==a[o][c].indexOf(n)&&(S(r,a[o])||r.push(a[o]));return r}function w(){var e=Object(r.useContext)(u),t=e.state,n=e.dispatch,c=t.mode,i=t.currentTodo,l=t.processing,d=Object(r.useState)({uniqueId:I(),title:"",content:""}),m=Object(a.a)(d,2),f=m[0],p=m[1],b=Object(r.useState)(""),O=Object(a.a)(b,2),E=O[0],h=O[1],g=Object(r.useState)(Object(s.a)({},i)),y=Object(a.a)(g,2),v=y[0],j=y[1];function I(){return parseFloat(Date.now().toString().slice(5))}function N(){n({type:"UPDATE_TODO",payload:{editTodo:v,index:t.index}}),n({type:"CHANGE_MODE",payload:"none"})}function q(){f.title&&setTimeout((function(){n({type:"ADD_TODO",payload:f}),n({type:"PREVIOUS_UNIQUE_ID",payload:[]}),p({uniqueId:I(),title:"",content:""})}),50)}function S(e,t){"add"===t?13===e.keyCode&&q():"edit"===t&&13===e.keyCode&&N()}return Object(r.useEffect)((function(){n({type:"SEARCH",payload:{filtered:T(t.todos,E)}}),j(Object(s.a)({},i))}),[E,n,i,t.todos]),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("br",null),"create"===c?o.a.createElement(C,{processing:l,btnText:"Add",values:f,onKeyUp:S,onChange:function(e,t){"title"===t?p(Object(s.a)(Object(s.a)({},f),{},{title:e.target.value})):"content"===t&&p(Object(s.a)(Object(s.a)({},f),{},{content:e.target.value}))},onSubmit:q}):"edit"===c?o.a.createElement(C,{processing:l,btnText:"Edit",values:v,onKeyUp:S,onChange:function(e,t){"title"===t?j(Object(s.a)(Object(s.a)({},v),{},{title:e.target.value})):"content"===t&&j(Object(s.a)(Object(s.a)({},v),{},{content:e.target.value}))},onSubmit:N}):"search"===c?o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{className:"form-control",value:E,autoFocus:!0,placeholder:"Search...",onChange:function(e){h(e.target.value)}})):null))}function D(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"state",n=localStorage.getItem(t);return n?JSON.parse(n):e}(Object(r.useContext)(u),"state"),t=function(e){var t=Object(a.a)(e,2),n=t[0],o=t[1],c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"state";return Object(r.useEffect)((function(){return localStorage.setItem(c,JSON.stringify(n))}),[c,n]),[n,o]}(Object(r.useReducer)(d,e),"state"),n=Object(a.a)(t,2),c=n[0],i=n[1];return o.a.createElement(u.Provider,{value:{state:c,dispatch:i}},o.a.createElement(w,null),o.a.createElement(N,null))}g.queue=[],g.pendingPromise=!1;var k=document.getElementById("root");i.a.render(o.a.createElement(D,null),k)}},[[12,1,2]]]);
//# sourceMappingURL=main.0d6771d0.chunk.js.map